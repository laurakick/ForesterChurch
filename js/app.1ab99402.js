(function(){"use strict";var t={5363:function(t,e,n){var a=n(5130),l=n(6768),o=n(4232);const i=t=>((0,l.Qi)("data-v-37e4ce8e"),t=t(),(0,l.jt)(),t),s={class:"container"},r={class:"sidebar"},d=i((()=>(0,l.Lk)("div",{class:"login-info"},[(0,l.Lk)("div",{class:"avatar"}),(0,l.Lk)("div",{class:"username"},"Pamela Petrus")],-1))),c={class:"content"},u=i((()=>(0,l.Lk)("div",{class:"banner"},null,-1)));function b(t,e,n,a,i,b){const h=(0,l.g2)("PageableTable"),v=(0,l.g2)("JobList");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",r,[d,(0,l.Lk)("button",{onClick:e[0]||(e[0]=t=>i.currentTab=0),class:(0,o.C4)({active:0===i.currentTab})},"公告資訊",2),(0,l.Lk)("button",{onClick:e[1]||(e[1]=t=>i.currentTab=1),class:(0,o.C4)({active:1===i.currentTab})},"資料查詢",2),(0,l.Lk)("button",{onClick:e[2]||(e[2]=t=>i.currentTab=2),class:(0,o.C4)({active:2===i.currentTab})},"優惠推薦",2),(0,l.Lk)("button",{onClick:e[3]||(e[3]=t=>i.currentTab=3),class:(0,o.C4)({active:3===i.currentTab})},"聯絡公會",2),(0,l.Lk)("button",{onClick:e[4]||(e[4]=t=>i.currentTab=4),class:(0,o.C4)({active:4===i.currentTab})},"停車場管理",2),(0,l.Lk)("button",{onClick:e[5]||(e[5]=t=>i.currentTab=5),class:(0,o.C4)({active:5===i.currentTab})},"公會會員",2),(0,l.Lk)("button",{onClick:e[6]||(e[6]=t=>i.currentTab=6),class:(0,o.C4)({active:6===i.currentTab})},"協力廠商",2),(0,l.Lk)("button",{onClick:e[7]||(e[7]=t=>i.currentTab=7),class:(0,o.C4)({active:7===i.currentTab})},"活動花絮",2),(0,l.Lk)("button",{onClick:e[8]||(e[8]=t=>i.currentTab=8),class:(0,o.C4)({active:8===i.currentTab})},"帳號管理",2)]),(0,l.Lk)("div",c,[u,(0,l.Lk)("div",{class:(0,o.C4)({hidden:0!==i.currentTab})},[(0,l.bF)(h,{title:"公告資訊",key:"tab1"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:1!==i.currentTab})},[(0,l.bF)(v,{title:"資料查詢",key:"tab2"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:2!==i.currentTab})},[(0,l.bF)(v,{title:"優惠推薦",key:"tab3"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:3!==i.currentTab})},[(0,l.bF)(v,{title:"聯絡公會",key:"tab4"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:4!==i.currentTab})},[(0,l.bF)(v,{title:"停車場管理",key:"tab5"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:5!==i.currentTab})},[(0,l.bF)(v,{title:"公會會員",key:"tab6"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:6!==i.currentTab})},[(0,l.bF)(v,{title:"協力廠商",key:"tab7"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:7!==i.currentTab})},[(0,l.bF)(v,{title:"活動花絮",key:"tab8"})],2),(0,l.Lk)("div",{class:(0,o.C4)({hidden:8!==i.currentTab})},[(0,l.bF)(v,{title:"帳號管理",key:"tab9"})],2)])])}function h(t,e){return(0,l.uX)(),(0,l.CE)("h1",null,"Under Construction!")}var v=n(1241);const p={},k=(0,v.A)(p,[["render",h]]);var m=k;const g=(0,l.Lk)("th",null,"Actions",-1),C=["onClick"],f=["onClick"];function L(t,e,n,a,i,s){const r=(0,l.g2)("TablePagination"),d=(0,l.g2)("EditModal");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>a.openNewModal&&a.openNewModal(...t))},"Add New"),(0,l.Lk)("table",null,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.headers,((t,e)=>((0,l.uX)(),(0,l.CE)("th",{key:e},(0,o.v_)(t),1)))),128)),g])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.paginatedData,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[(0,l.Lk)("td",null,(0,o.v_)(t.id),1),(0,l.Lk)("td",null,(0,o.v_)(t.type),1),(0,l.Lk)("td",null,(0,o.v_)(t.title),1),(0,l.Lk)("td",null,(0,o.v_)(t.lastUpdatedTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("button",{onClick:e=>a.openEditModal(t)},"Edit",8,C),(0,l.Lk)("button",{onClick:e=>a.deleteRow(t.id)},"Delete",8,f)])])))),128))])]),(0,l.bF)(r,{total:a.totalItems,current:a.currentPage,perPage:a.itemsPerPage,visiblePageCount:5,onPageChanged:a.pageChanged},null,8,["total","current","perPage","onPageChanged"]),a.showEditModal?((0,l.uX)(),(0,l.Wv)(d,{key:0,record:a.currentRecord,onClose:a.closeEditModal,onSave:a.saveRecord},null,8,["record","onClose","onSave"])):(0,l.Q3)("",!0),a.showNewModal?((0,l.uX)(),(0,l.Wv)(d,{key:1,record:a.newRecord,onClose:a.closeNewModal,onSave:a.addRecord,isNew:!0},null,8,["record","onClose","onSave"])):(0,l.Q3)("",!0)])}var y=n(144);const T={class:"pagination"},P={class:"buttons"},w=["disabled"],E=["disabled"],q=["onClick"],R=["disabled"],M=["disabled"],N={class:"current-page-label"};function _(t,e,n,a,i,s){return(0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("div",P,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>s.prevNPages&&s.prevNPages(...t)),disabled:n.current<=1}," 《《 ",8,w),(0,l.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>s.prevPage&&s.prevPage(...t)),disabled:1===n.current}," « ",8,E),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.visiblePages,(t=>((0,l.uX)(),(0,l.CE)("button",{key:t,onClick:e=>s.changePage(t),class:(0,o.C4)({active:n.current===t})},(0,o.v_)(t),11,q)))),128)),(0,l.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.nextPage&&s.nextPage(...t)),disabled:n.current===s.totalPages}," » ",8,R),(0,l.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>s.nextNPages&&s.nextNPages(...t)),disabled:n.current>s.totalPages-1}," 》》 ",8,M)]),(0,l.Lk)("span",N," Page "+(0,o.v_)(n.current)+" of "+(0,o.v_)(s.totalPages),1)])}n(4114);var A={props:{total:{type:Number,required:!0},current:{type:Number,required:!0},perPage:{type:Number,required:!0},visiblePageCount:{type:Number,required:!1,default:5}},computed:{totalPages(){return Math.ceil(this.total/this.perPage)},visiblePages(){const t=[],e=Math.floor(this.visiblePageCount/2);let n=Math.max(1,this.current-e),a=Math.min(this.totalPages,this.current+e);a-n+1<this.visiblePageCount&&(1===n?a=Math.min(this.totalPages,n+this.visiblePageCount-1):a===this.totalPages&&(n=Math.max(1,a-this.visiblePageCount+1)));for(let l=n;l<=a;l++)t.push(l);return t}},methods:{prevPage(){this.current>1&&this.$emit("page-changed",this.current-1)},nextPage(){this.current<this.totalPages&&this.$emit("page-changed",this.current+1)},prevNPages(){const t=Math.max(1,this.current-this.visiblePageCount);this.$emit("page-changed",t)},nextNPages(){const t=Math.min(this.totalPages,this.current+this.visiblePageCount);this.$emit("page-changed",t)},changePage(t){this.$emit("page-changed",t)}}};const S=(0,v.A)(A,[["render",_]]);var U=S;const F={key:0,class:"modal"},O={class:"modal-content"},x=(0,l.Lk)("label",{for:"type"},"Type",-1),X=(0,l.Lk)("label",{for:"title"},"Title",-1),I=(0,l.Lk)("label",{for:"lastUpdatedTime"},"Last Updated Time",-1),K=(0,l.Lk)("label",{for:"content"},"Content",-1),$={class:"button-table"},j={class:"button-cell"},D={class:"button-cell right-align"};function J(t,e,n,i,s,r){const d=(0,l.g2)("email-editor");return n.record?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.Lk)("div",O,[(0,l.Lk)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>r.close&&r.close(...t))},"×"),(0,l.Lk)("h2",null,(0,o.v_)(n.isNew?"Add New Record":"Edit Record"),1),x,(0,l.bo)((0,l.Lk)("input",{type:"text",id:"type","onUpdate:modelValue":e[1]||(e[1]=t=>s.editableRecord.type=t),required:""},null,512),[[a.Jo,s.editableRecord.type]]),X,(0,l.bo)((0,l.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":e[2]||(e[2]=t=>s.editableRecord.title=t),required:""},null,512),[[a.Jo,s.editableRecord.title]]),I,(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",id:"lastUpdatedTime","onUpdate:modelValue":e[3]||(e[3]=t=>s.editableRecord.lastUpdatedTime=t),disabled:""},null,512),[[a.Jo,s.editableRecord.lastUpdatedTime]]),K,(0,l.bF)(d,{ref:"docEditor"},null,512),(0,l.Lk)("table",$,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",j,[(0,l.Lk)("button",{type:"button",onClick:e[4]||(e[4]=(...t)=>r.save&&r.save(...t))},(0,o.v_)(n.isNew?"Add":"Save"),1)]),(0,l.Lk)("td",D,[(0,l.Lk)("button",{id:"close-button",type:"button",onClick:e[5]||(e[5]=(...t)=>r.close&&r.close(...t))},"Cancel")])])])])])):(0,l.Q3)("",!0)}const H={id:"toolbar-container"},Q={id:"toolbar"},W=(0,l.Fv)('<button class="ql-bold">Bold</button><button class="ql-italic">Italic</button><button class="ql-underline">Underline</button><button class="ql-strike">Strike</button><button class="ql-color">Color</button><button class="ql-background">Background</button><button class="ql-header" value="1">H1</button><button class="ql-header" value="2">H2</button><button class="ql-header" value="3">H3</button><button class="ql-list" value="ordered">List</button><button class="ql-list" value="bullet">Bullet</button><button class="ql-align" value="">Left</button><button class="ql-align" value="center">Center</button><button class="ql-align" value="right">Right</button><button class="ql-align" value="justify">Justify</button><button class="ql-link">Link</button><button class="ql-image">Image</button><button class="ql-video">Video</button><button class="ql-code-block">Code</button><button class="ql-blockquote">Quote</button><button class="ql-clean">Clear</button>',21),B=(0,l.Lk)("i",{class:"fas fa-paperclip"},null,-1),V=[B],z={ref:"editorContainer",id:"editor-container"},G={id:"attachment-container",class:"container"},Y=["href","download"],Z=["onClick"],tt={key:0},et=(0,l.Lk)("p",null,"Saved Content",-1),nt={id:"save-container",class:"container"},at={id:"display-container",class:"container",ref:"displayContainer"},lt={id:"loaded-attachment-container",class:"container"},ot=["href","download"];function it(t,e,n,a,i,s){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",H,[(0,l.Lk)("div",Q,[W,(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>s.attachFile&&s.attachFile(...t)),class:"attachment-button"},V)])]),(0,l.Lk)("div",z,null,512),(0,l.Lk)("div",G,[(0,l.eW)(" 附件: "),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.attachments,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{key:t.name},[(0,l.Lk)("a",{href:t.data,download:t.name},(0,o.v_)(t.name),9,Y),(0,l.Lk)("button",{onClick:t=>s.removeAttachment(e),class:"attachment-remove-button"},"X",8,Z)])))),128))]),i.debug?((0,l.uX)(),(0,l.CE)("div",tt,[(0,l.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>s.saveContent&&s.saveContent(...t))},"Save Content"),(0,l.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.loadContent&&s.loadContent(...t))},"Load Content"),et,(0,l.Lk)("div",nt,(0,o.v_)(i.savedContent),1),(0,l.eW)(" Loaded Content "),(0,l.Lk)("div",at,null,512),(0,l.Lk)("div",lt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.loadedAttachments,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.name},[(0,l.eW)(" Loaded attachment: "+(0,o.v_)(t.name)+" - ",1),(0,l.Lk)("a",{href:t.data,download:t.name},"Download",8,ot)])))),128))])])):(0,l.Q3)("",!0)])}var st=n(8525),rt={name:"EmailEditor",data(){return{quill:null,attachments:[],loadedAttachments:[],savedContent:"",loadedContent:"",debug:!1}},mounted(){this.quill=new st.Ay(this.$refs.editorContainer,{theme:"snow",modules:{toolbar:"#toolbar"}}),this.debug&&(this.readOnlyQuill=new st.Ay(this.$refs.displayContainer,{theme:"snow",readOnly:!0,modules:{toolbar:!1}}))},methods:{set_doc(t){this.quill&&(this.quill.root.innerHTML=t.content),this.attachments=t.attachments},get_doc(){return{content:this.quill?this.quill.root.innerHTML:this.doc.content,attachments:this.attachments}},attachFile(){const t=document.createElement("input");t.type="file",t.click(),t.onchange=()=>{const e=t.files[0],n=new FileReader;n.onloadend=()=>{this.attachments.push({name:e.name,data:n.result})},n.readAsDataURL(e)}},removeAttachment(t){this.attachments.splice(t,1)},getContent(){return this.quill.root.innerHTML},saveContent(){const t=this.quill.root.innerHTML;this.savedContent=JSON.stringify({content:t,attachments:this.attachments})},loadContent(){const t=JSON.parse(this.savedContent||"{}");this.loadedContent=t.content||"No content loaded",this.readOnlyQuill.root.innerHTML=this.loadedContent,this.loadedAttachments=t.attachments||[]}}};const dt=(0,v.A)(rt,[["render",it]]);var ct=dt,ut={components:{EmailEditor:ct},props:{record:{type:Object,required:!0},isNew:{type:Boolean,default:!1}},data(){return{editableRecord:{...this.record}}},emits:["close","save"],methods:{close(){this.$emit("close")},save(){if(this.$refs.docEditor){const t=this.$refs.docEditor.get_doc();t&&(this.editableRecord.content=t),this.editableRecord.lastUpdatedTime=(new Date).toISOString().slice(0,16),this.$emit("save",{...this.editableRecord})}},handleFormSubmit(t){t.preventDefault()},setInitialDoc(){const t=this.editableRecord.content;this.$refs.docEditor?this.$refs.docEditor.set_doc(t):console.error("EmailEditor is not available at this moment.")}},watch:{record(t){this.editableRecord={...t}}},mounted(){this.$nextTick((()=>{this.setInitialDoc()}))}};const bt=(0,v.A)(ut,[["render",J]]);var ht=bt;const vt=[{id:1,type:"最新消息",title:"New Announcement",lastUpdatedTime:"2023-01-01T12:00",content:{content:"meow2",attachments:[]}},{id:2,type:"活動訊息",title:"Event Info",lastUpdatedTime:"2023-01-02T12:00",content:{content:"meow",attachments:[]}},{id:3,type:"更新通知",title:"Update Notice",lastUpdatedTime:"2023-01-03T12:00",content:{content:"Updated version available!",attachments:[]}},{id:4,type:"系統消息",title:"System Message",lastUpdatedTime:"2023-01-04T12:00",content:{content:"System will undergo maintenance.",attachments:[]}},{id:5,type:"安全警告",title:"Security Alert",lastUpdatedTime:"2023-01-05T12:00",content:{content:"Please update your passwords.",attachments:[]}},{id:6,type:"特別報導",title:"Special Report",lastUpdatedTime:"2023-01-06T12:00",content:{content:"Special coverage on upcoming events.",attachments:[]}}];var pt=vt;class kt{constructor(){this.data=pt}getAll(){return this.data}add(t){t.id=this.data.length?Math.max(...this.data.map((t=>t.id)))+1:1,this.data.push(t)}update(t){const e=this.data.findIndex((e=>e.id===t.id));-1!==e&&(this.data[e]=t)}delete(t){const e=this.data.findIndex((e=>e.id===t));-1!==e&&this.data.splice(e,1)}}var mt=kt,gt={components:{TablePagination:U,EditModal:ht},setup(){const t=(0,y.KR)(["ID","Type","Title","Last Updated Time"]),e=new mt,n=(0,y.KR)(e.getAll()),a=(0,y.KR)(n.value.length),o=(0,y.KR)(1),i=(0,y.KR)(5),s=(0,l.EW)((()=>{const t=(o.value-1)*i.value,e=t+i.value;return n.value.slice(t,e)})),r=t=>{o.value=t},d=(0,y.KR)(!1),c=(0,y.KR)(!1),u=(0,y.KR)(null),b=(0,y.KR)({id:null,type:"",title:"",lastUpdatedTime:"",content:""}),h=t=>{u.value=JSON.parse(JSON.stringify(t)),d.value=!0},v=()=>{b.value={id:null,type:"",title:"",lastUpdatedTime:"",content:{content:"",attachments:[]}},c.value=!0},p=()=>{d.value=!1,u.value=null},k=()=>{c.value=!1,b.value={id:null,type:"",title:"",lastUpdatedTime:"",content:""}},m=t=>{e.update(t),n.value=[...e.getAll()],a.value=n.value.length,p()},g=t=>{e.add(t),n.value=[...e.getAll()],a.value=n.value.length,k(),o.value=Math.ceil(a.value/i.value),r(o.value)},C=t=>{e.delete(t),n.value=[...e.getAll()],a.value=n.value.length;const l=Math.ceil(a.value/i.value);o.value>l&&(o.value=l),r(o.value)};return{headers:t,paginatedData:s,totalItems:a,currentPage:o,itemsPerPage:i,pageChanged:r,showEditModal:d,showNewModal:c,currentRecord:u,newRecord:b,openEditModal:h,openNewModal:v,closeEditModal:p,closeNewModal:k,saveRecord:m,addRecord:g,deleteRow:C,data:n}}};const Ct=(0,v.A)(gt,[["render",L]]);var ft=Ct,Lt={components:{JobList:m,PageableTable:ft},data(){return{currentTab:0}}};const yt=(0,v.A)(Lt,[["render",b],["__scopeId","data-v-37e4ce8e"]]);var Tt=yt;(0,a.Ef)(Tt).mount("#app")}},e={};function n(a){var l=e[a];if(void 0!==l)return l.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){var t=[];n.O=function(e,a,l,o){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],l=t[c][1],o=t[c][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(s=!1,o<i&&(i=o));if(s){t.splice(c--,1);var d=l();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[a,l,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,o,i=a[0],s=a[1],r=a[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var c=r(n)}for(e&&e(a);d<i.length;d++)o=i[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},a=self["webpackChunktaipei_parking_guild_backend"]=self["webpackChunktaipei_parking_guild_backend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(5363)}));a=n.O(a)})();
//# sourceMappingURL=app.1ab99402.js.map